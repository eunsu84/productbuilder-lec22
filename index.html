<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>마음 거울 - 문장완성검사</title>
    <style>
        body { font-family: 'Apple SD Gothic Neo', sans-serif; background-color: #f0f2f5; padding: 20px; line-height: 1.6; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        h2 { color: #4a90e2; text-align: center; }
        .question { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-weight: bold; color: #333; }
        input[type="text"] { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box; }
        button { width: 100%; padding: 15px; background-color: #4a90e2; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 16px; margin-top: 20px; }
        button:hover { background-color: #357abd; }
        #result { margin-top: 30px; display: none; padding: 20px; background: #eef7ff; border-radius: 10px; }
        .result-item { margin-bottom: 10px; border-bottom: 1px dotted #ccc; padding-bottom: 5px; }
    </style>
</head>
<body>

<div class="container">
    <h2>📝 문장완성검사 (SCT)</h2>
    <p style="text-align: center; color: #666;">가장 먼저 떠오르는 생각을 적어주세요.</p>
    <hr>
    
    <div id="survey-form">
        <div class="question"><label>1. 요즘 내가 가장 많이 느끼는 감정은...</label><input type="text" id="q1" placeholder="이다."></div>
        <div class="question"><label>2. 누군가 나를 무시한다고 느낄 때 나는...</label><input type="text" id="q2" placeholder="한다."></div>
        <div class="question"><label>3. 갈등이 생기면 나는 보통...</label><input type="text" id="q3" placeholder="한다."></div>
        <div class="question"><label>4. 내가 가장 피하고 싶은 상황은...</label><input type="text" id="q4" placeholder="이다."></div>
        <div class="question"><label>5. 사람들과 함께 있을 때 나는...</label><input type="text" id="q5" placeholder="한 편이다."></div>
        <div class="question"><label>6. 내 성격의 장점은...</label><input type="text" id="q6" placeholder="이다."></div>
        <div class="question"><label>7. 내 성격의 단점은...</label><input type="text" id="q7" placeholder="이다."></div>
        <div class="question"><label>8. 나를 힘들게 하는 사람은 보통...</label><input type="text" id="q8" placeholder="한 사람이다."></div>
        <div class="question"><label>9. 화가 나도 나는 주로...</label><input type="text" id="q9" placeholder="한다."></div>
        <div class="question"><label>10. 지금의 나는...</label><input type="text" id="q10" placeholder="한 상태라고 생각한다."></div>
        
        <button onclick="showResult()">검사 결과 확인하기</button>
    </div>

    <div id="result">
        <h3>📊 검사 결과 요약</h3>
        <div id="result-content"></div>
        
        <div id="analysis-section" style="margin-top: 25px; padding-top: 20px; border-top: 2px dashed #ccc;">
            <h4 style="color: #4a90e2;">🧠 심리 상태 분석</h4>
            <p id="psych-analysis" style="font-weight: bold; color: #555;"></p>
            
            <h4 style="color: #2ecc71; margin-top: 20px;">💡 맞춤형 솔루션</h4>
            <div id="solution-box" style="background: white; padding: 15px; border-left: 4px solid #2ecc71; border-radius: 4px;">
                <p id="psych-solution" style="margin: 0; color: #333;"></p>
            </div>
        </div>

        <p style="font-size: 0.9em; color: #777; margin-top: 20px;">* 본 결과는 입력하신 내용을 바탕으로 한 간단한 분석입니다. 심층적인 상담은 전문가와 상의하세요.</p>
        <button onclick="location.reload()" style="background-color: #999;">다시 작성하기</button>
    </div>
</div>

<script>
    function showResult() {
        const questions = [
            "가장 많이 느끼는 감정", "무시당할 때의 반응", "갈등 해결 방식", 
            "피하고 싶은 상황", "대인관계 스타일", "성격의 장점", 
            "성격의 단점", "힘들게 하는 타인 유형", "분노 조절 방식", "현재의 자아 상태"
        ];
        
        let resultHtml = "";
        let allAnswers = "";

        for(let i=1; i<=10; i++) {
            let answer = document.getElementById('q' + i).value;
            if(!answer) answer = "(미입력)";
            else allAnswers += answer + " ";
            
            resultHtml += `<div class="result-item"><strong>${questions[i-1]}:</strong> ${answer}</div>`;
        }
        
        // 아들러 심리학 기반 분석 로직 (Adlerian Lifestyle Analysis)
        // 두 가지 축: 활동성(Activity Levels) & 사회적 관심(Social Interest)
        const adlerKeywords = {
            socialPositive: ['친구', '가족', '사랑', '함께', '도움', '배려', '이해', '대화', '우리', '사람', '감사', '약속', '신뢰', '좋다', '공감'],
            socialNegative: ['싫다', '미움', '짜증', '무시', '혼자', '복수', '귀찮', '남', '적', '단절', '의심', '경쟁', '질투', '거절'],
            energyActive: ['도전', '성공', '노력', '해결', '성취', '계획', '열정', '분노', '화', '싸움', '주장', '리드', '극복', '한다', '이기다'],
            energyPassive: ['포기', '도망', '무섭다', '불안', '걱정', '눈치', '우울', '슬픔', '힘들다', '지친다', '못해', '숨다', '침묵', '어쩔', '모르겠다']
        };

        let socialScore = 0;
        let energyScore = 0;
        
        // 답변 전체에서 키워드 카운팅
        allAnswers.split(' ').forEach(word => {
            if (adlerKeywords.socialPositive.some(k => word.includes(k))) socialScore++;
            if (adlerKeywords.socialNegative.some(k => word.includes(k))) socialScore--;
            if (adlerKeywords.energyActive.some(k => word.includes(k))) energyScore++;
            if (adlerKeywords.energyPassive.some(k => word.includes(k))) energyScore--;
        });

        let type = "";
        let analysisText = "";
        let solutionText = "";

        // 아들러의 생활양식 4가지 유형 판별
        if (energyScore >= 0) {
            if (socialScore >= 0) {
                type = "사회적 유용형 (Socially Useful Type)";
                analysisText = "당신은 아들러 심리학에서 말하는 가장 건강한 유형인 [사회적 유용형]에 가깝습니다. 높은 활동성과 사회적 관심을 바탕으로, 자신과 타인을 모두 긍정하며 직면한 인생의 과제들을 용기 있게 해결하려는 태도가 돋보입니다.";
                solutionText = "지금처럼 '공동체 감각(Gemeinschaftsgefühl)'을 유지하며 주변에 긍정적인 영향력을 계속 발휘해 주세요. 당신의 건강한 에너지는 주변 사람들에게도 큰 힘이 됩니다. 가끔은 타인을 챙기느라 자신의 에너지가 고갈되지 않도록 '나를 위한 휴식'도 잊지 마세요.";
            } else {
                type = "지배형 (Ruling Type)";
                analysisText = "에너지는 넘치지만 타인에 대한 사회적 관심이 다소 부족한 [지배형]의 성향이 보입니다. 자신의 뜻대로 상황을 통제하려 하거나, 타인과의 관계에서 우위를 점하려는 경향이 강할 수 있습니다. 적극적이지만 독단적일 수 있습니다.";
                solutionText = "아들러는 '모든 고민은 인간관계에서 온다'고 했습니다. 이기려는 마음을 조금 내려놓고, 타인을 경쟁자가 아닌 '대등한 친구'로 바라보는 연습을 해보세요. 수평적인 관계 맺기가 당신의 삶을 더 풍요롭고 외롭지 않게 만들 것입니다.";
            }
        } else {
            if (socialScore >= 0) {
                type = "기생형/획득형 (Getting Type)";
                analysisText = "타인에 대한 관심과 친화력은 있지만, 스스로 문제를 해결하려는 에너지가 다소 부족한 [기생형(획득형)] 성향이 보입니다. 다른 사람에게 의존하거나, 주위의 관심과 도움을 통해 안정을 얻으려는 마음이 클 수 있습니다.";
                solutionText = "'과제의 분리'가 필요합니다. 타인의 기대나 도움에만 기대기보다, '내가 할 수 있는 일'부터 스스로 선택하고 책임지는 작은 성공 경험을 쌓아보세요. 당신 안에 잠든 '자립의 용기'를 깨운다면 훨씬 더 자유로워질 수 있습니다.";
            } else {
                type = "회피형 (Avoiding Type)";
                analysisText = "현재 인생의 과제나 복잡한 대인관계에서 한 발 물러서고 싶어하는 [회피형] 성향이 나타납니다. 실패에 대한 두려움이 커서 아무것도 하지 않으려 하거나, 갈등 상황을 외면하고 마음의 문을 닫고 있을 수 있습니다.";
                solutionText = "아들러는 이를 '용기의 부족'이라고 부릅니다. 완벽하지 않아도 괜찮습니다. 미움받을까 봐 두려워하지 마세요('미움받을 용기'). 아주 작은 목표부터 하나씩 시도해보는 것, 그리고 단 한 사람이라도 진솔한 대화를 나누는 것이 변화의 시작입니다.";
            }
        }
        
        document.getElementById('survey-form').style.display = 'none';
        document.getElementById('result-content').innerHTML = resultHtml;
        document.getElementById('psych-analysis').innerHTML = `<strong style='color:#333;'>${type}</strong><br><br>${analysisText}`;
        document.getElementById('psych-solution').innerText = solutionText;
        document.getElementById('result').style.display = 'block';
    }
</script>

</body>
</html>